{"ast":null,"code":"const ACCESS_KEY = \"access\";\nconst REFRESH_KEY = \"refresh\";\nconst EXP_KEY = \"access_exp\"; // access expiry timestamp (ms)\n\nexport const setTokens = (access, refresh, accessExpMs) => {\n  localStorage.setItem(ACCESS_KEY, access);\n  localStorage.setItem(REFRESH_KEY, refresh);\n  localStorage.setItem(EXP_KEY, String(accessExpMs));\n};\nexport const clearTokens = () => {\n  localStorage.removeItem(ACCESS_KEY);\n  localStorage.removeItem(REFRESH_KEY);\n  localStorage.removeItem(EXP_KEY);\n};\nexport const isLoggedIn = () => {\n  return !!localStorage.getItem(ACCESS_KEY) && !!localStorage.getItem(REFRESH_KEY);\n};\nexport const getAccess = () => localStorage.getItem(ACCESS_KEY);\nexport const getRefresh = () => localStorage.getItem(REFRESH_KEY);\nexport const getAccessExp = () => Number(localStorage.getItem(EXP_KEY) || \"0\");\n\n// Fake refresh: if access expired but refresh exists, create new access\nexport const refreshAccessIfNeeded = () => {\n  const refresh = getRefresh();\n  if (!refresh) return false;\n  const exp = getAccessExp();\n  const now = Date.now();\n  if (now < exp) return true; // still valid\n\n  // create a new access token (fake)\n  const newAccess = \"access_\" + Math.random().toString(36).slice(2);\n  const newExp = now + 5 * 60 * 1000; // 5 minutes validity\n  localStorage.setItem(ACCESS_KEY, newAccess);\n  localStorage.setItem(EXP_KEY, String(newExp));\n  return true;\n};","map":{"version":3,"names":["ACCESS_KEY","REFRESH_KEY","EXP_KEY","setTokens","access","refresh","accessExpMs","localStorage","setItem","String","clearTokens","removeItem","isLoggedIn","getItem","getAccess","getRefresh","getAccessExp","Number","refreshAccessIfNeeded","exp","now","Date","newAccess","Math","random","toString","slice","newExp"],"sources":["C:/Users/Nikhil sai/Desktop/expense-tracker/frontend/src/authLocal.js"],"sourcesContent":["const ACCESS_KEY = \"access\";\r\nconst REFRESH_KEY = \"refresh\";\r\nconst EXP_KEY = \"access_exp\"; // access expiry timestamp (ms)\r\n\r\nexport const setTokens = (access, refresh, accessExpMs) => {\r\n  localStorage.setItem(ACCESS_KEY, access);\r\n  localStorage.setItem(REFRESH_KEY, refresh);\r\n  localStorage.setItem(EXP_KEY, String(accessExpMs));\r\n};\r\n\r\nexport const clearTokens = () => {\r\n  localStorage.removeItem(ACCESS_KEY);\r\n  localStorage.removeItem(REFRESH_KEY);\r\n  localStorage.removeItem(EXP_KEY);\r\n};\r\n\r\nexport const isLoggedIn = () => {\r\n  return !!localStorage.getItem(ACCESS_KEY) && !!localStorage.getItem(REFRESH_KEY);\r\n};\r\n\r\nexport const getAccess = () => localStorage.getItem(ACCESS_KEY);\r\nexport const getRefresh = () => localStorage.getItem(REFRESH_KEY);\r\nexport const getAccessExp = () => Number(localStorage.getItem(EXP_KEY) || \"0\");\r\n\r\n// Fake refresh: if access expired but refresh exists, create new access\r\nexport const refreshAccessIfNeeded = () => {\r\n  const refresh = getRefresh();\r\n  if (!refresh) return false;\r\n\r\n  const exp = getAccessExp();\r\n  const now = Date.now();\r\n\r\n  if (now < exp) return true; // still valid\r\n\r\n  // create a new access token (fake)\r\n  const newAccess = \"access_\" + Math.random().toString(36).slice(2);\r\n  const newExp = now + 5 * 60 * 1000; // 5 minutes validity\r\n  localStorage.setItem(ACCESS_KEY, newAccess);\r\n  localStorage.setItem(EXP_KEY, String(newExp));\r\n  return true;\r\n};\r\n"],"mappings":"AAAA,MAAMA,UAAU,GAAG,QAAQ;AAC3B,MAAMC,WAAW,GAAG,SAAS;AAC7B,MAAMC,OAAO,GAAG,YAAY,CAAC,CAAC;;AAE9B,OAAO,MAAMC,SAAS,GAAGA,CAACC,MAAM,EAAEC,OAAO,EAAEC,WAAW,KAAK;EACzDC,YAAY,CAACC,OAAO,CAACR,UAAU,EAAEI,MAAM,CAAC;EACxCG,YAAY,CAACC,OAAO,CAACP,WAAW,EAAEI,OAAO,CAAC;EAC1CE,YAAY,CAACC,OAAO,CAACN,OAAO,EAAEO,MAAM,CAACH,WAAW,CAAC,CAAC;AACpD,CAAC;AAED,OAAO,MAAMI,WAAW,GAAGA,CAAA,KAAM;EAC/BH,YAAY,CAACI,UAAU,CAACX,UAAU,CAAC;EACnCO,YAAY,CAACI,UAAU,CAACV,WAAW,CAAC;EACpCM,YAAY,CAACI,UAAU,CAACT,OAAO,CAAC;AAClC,CAAC;AAED,OAAO,MAAMU,UAAU,GAAGA,CAAA,KAAM;EAC9B,OAAO,CAAC,CAACL,YAAY,CAACM,OAAO,CAACb,UAAU,CAAC,IAAI,CAAC,CAACO,YAAY,CAACM,OAAO,CAACZ,WAAW,CAAC;AAClF,CAAC;AAED,OAAO,MAAMa,SAAS,GAAGA,CAAA,KAAMP,YAAY,CAACM,OAAO,CAACb,UAAU,CAAC;AAC/D,OAAO,MAAMe,UAAU,GAAGA,CAAA,KAAMR,YAAY,CAACM,OAAO,CAACZ,WAAW,CAAC;AACjE,OAAO,MAAMe,YAAY,GAAGA,CAAA,KAAMC,MAAM,CAACV,YAAY,CAACM,OAAO,CAACX,OAAO,CAAC,IAAI,GAAG,CAAC;;AAE9E;AACA,OAAO,MAAMgB,qBAAqB,GAAGA,CAAA,KAAM;EACzC,MAAMb,OAAO,GAAGU,UAAU,CAAC,CAAC;EAC5B,IAAI,CAACV,OAAO,EAAE,OAAO,KAAK;EAE1B,MAAMc,GAAG,GAAGH,YAAY,CAAC,CAAC;EAC1B,MAAMI,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EAEtB,IAAIA,GAAG,GAAGD,GAAG,EAAE,OAAO,IAAI,CAAC,CAAC;;EAE5B;EACA,MAAMG,SAAS,GAAG,SAAS,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;EACjE,MAAMC,MAAM,GAAGP,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;EACpCb,YAAY,CAACC,OAAO,CAACR,UAAU,EAAEsB,SAAS,CAAC;EAC3Cf,YAAY,CAACC,OAAO,CAACN,OAAO,EAAEO,MAAM,CAACkB,MAAM,CAAC,CAAC;EAC7C,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}